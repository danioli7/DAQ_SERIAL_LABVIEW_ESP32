# DAQ_SERIAL_LABVIEW_ESP32
Sistema con ESP32 que envía datos analógicos y digitales por UDP a LabVIEW y recibe comandos para controlar un DAC y salidas digitales. Incluye muestreo a 1 kHz, reconexión WiFi y calibración ADC.

Este proyecto se basa en una tarjeta de adquisición de datos construida con un ESP32 que se comunica bidireccionalmente con una interfaz LabVIEW utilizando el protocolo UDP. El objetivo es capturar datos de sensores analógicos y digitales conectados al ESP32, enviarlos a LabVIEW para su visualización y análisis, y a su vez recibir comandos desde LabVIEW para controlar salidas del ESP32, incluyendo una salida analógica (DAC) y dos salidas digitales.

En el código del ESP32 se gestionan dos tareas principales. Por un lado, se realiza de forma periódica la lectura de dos entradas analógicas y cuatro digitales. Estos datos se encapsulan en un bloque de bytes y se envían a LabVIEW mediante UDP. La frecuencia de envío se controla para garantizar que los datos se transmitan de forma regular y eficiente. Por otro lado, el ESP32 está constantemente escuchando posibles datos que provienen de LabVIEW. Cuando se reciben, estos datos se interpretan como comandos: el primer byte se traduce en un valor analógico que se aplica a través de un DAC, y el segundo contiene bits digitales que se reflejan en dos salidas GPIO.

Una de las claves del funcionamiento del proyecto es que los datos solo se envían cuando han cambiado respecto a los valores anteriores, lo que optimiza el uso del canal de comunicación. Además, se ha incluido un mecanismo para evitar que las entradas se reseteen a cero en ausencia de datos, manteniendo el último valor leído hasta recibir uno nuevo. Esto asegura una representación más realista y estable en las gráficas de LabVIEW.

En el lado de LabVIEW, la arquitectura está diseñada con una máquina de estados y tareas paralelas. La recepción de datos se gestiona dentro del bucle principal de ejecución, mientras que el envío de comandos al ESP32 se desencadena únicamente cuando el usuario modifica el contenido de un control específico. La visualización se realiza en tiempo real mediante gráficas, y se ha trabajado para que estas muestren los datos de forma continua, sin saltos o reinicios visuales. Toda esta estructura permite un flujo de datos robusto, claro y ordenado entre el entorno físico (ESP32) y el entorno gráfico (LabVIEW).
